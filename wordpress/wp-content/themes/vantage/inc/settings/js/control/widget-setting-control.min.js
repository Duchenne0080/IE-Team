!function(e,c,f){e.controlConstructor["siteorigin-widget-setting"]=e.Control.extend({ready:function(){var t=this,i=t.container;i.find(".so-widget-form").hide(),i.find(".so-edit-widget, .so-widget-form .so-widget-close").click(function(e){e.preventDefault(),i.find(".so-widget-form").toggle(),i.find(".so-widget-form").is(":visible")||t.updateValue()})},updateValue:function(){var t,e=this.getFormValues();try{t=e.siteorigin_settings_widget[1]}catch(e){t={}}t.panels_info={class:this.container.find(".so-widget-form").data("widget-class")},this.setting.set(t)},getFormValues:function(){var d,e=this.container.find(".so-widget-form"),l={};return e.find("[name]").each(function(){var t=c(this);try{var e=/([A-Za-z_]+)\[(.*)\]/.exec(t.attr("name"));if(f.isEmpty(e))return!0;f.isUndefined(e[2])?d=t.attr("name"):(d=e[2].split("][")).unshift(e[1]),d=d.map(function(e){return!isNaN(parseFloat(e))&&isFinite(e)?parseInt(e):e});var i=l,n=null,s=!!f.isString(t.attr("type"))&&t.attr("type").toLowerCase();if("checkbox"===s)n=t.is(":checked")?""===t.val()||t.val():null;else if("radio"===s){if(!t.is(":checked"))return;n=t.val()}else if("TEXTAREA"===t.prop("tagName")&&t.hasClass("wp-editor-area")){var a=null;f.isUndefined(tinyMCE)||(a=tinyMCE.get(t.attr("id"))),n=null!==a&&f.isFunction(a.getContent)&&!a.isHidden()?a.getContent():t.val()}else if("SELECT"===t.prop("tagName")){var o=t.find("option:selected");1===o.length?n=t.find("option:selected").val():1<o.length&&(n=f.map(t.find("option:selected"),function(e,t){return c(e).val()}))}else n=t.val();if(null!==n)for(var r=0;r<d.length;r++)r===d.length-1?""===d[r]?i.push(n):i[d[r]]=n:(f.isUndefined(i[d[r]])&&(""===d[r+1]?i[d[r]]=[]:i[d[r]]={}),i=i[d[r]])}catch(e){console.log("Field ["+t.attr("name")+"] could not be processed and was skipped - "+e.message)}}),l}})}(wp.customize,jQuery,_);